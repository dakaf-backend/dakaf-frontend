<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Shop</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-white-100 p-6 font-sans">

  <!-- HEADER -->
  <header class="w-full h-20 bg-gray-100 flex items-center justify-between px-6 md:px-12">
    <h1 class="text-2xl font-bold text-blue-600">DAKAF AVAILABLES</h1>

    <nav class="hidden md:flex">
      <ul class="flex space-x-6 text-lg">
        <li class="hover:text-blue-600"><a href="  homepage.html">Home</a></li>
        <li class="hover:text-blue-600"><a href="  shop.html">Wares</a></li>
        <li class="hover:text-blue-600"><a href="  cart.html">CartsğŸ›’</a></li>
        <li class="hover:text-blue-600"><a href="home delivery.html">Home delivery</a></li>
      </ul>
    </nav>

    <button class="hidden md:block bg-blue-600 text-white px-6 py-2 rounded-lg">
     <a href="shop.html">
      ITEMS IN STOCK
     </a>
    </button>
    

    <button onclick="toggleMenu()" class="md:hidden text-3xl">
      â˜°
    </button>
    
  </header>
  <!-- Mobile Overlay -->
<div id="overlay"
class="fixed inset-0 bg-black/50 hidden z-40"
onclick="toggleMenu()">
</div>

<!-- Mobile Menu -->
<div id="mobileMenu"
class="fixed top-0 right-0 h-full w-72 bg-white shadow-lg
       transform translate-x-full transition-transform duration-300
       z-50 md:hidden">

<div class="p-6 flex items-center justify-between border-b">
  <h2 class="text-xl font-bold text-blue-600">DAKAF</h2>
  <button onclick="toggleMenu()" class="text-2xl">âœ•</button>
</div>

<nav class="p-6">
  <ul class="space-y-6 text-lg font-medium">
    <li>
      <a href="homepage.html" class="block hover:text-blue-600">ğŸ  Home</a>
    </li>
    <li>
      <a href="shop.html" class="block hover:text-blue-600">ğŸ› Wares</a>
    </li>
    <li>
      <a href="cart.html" class="block hover:text-blue-600">ğŸ›’ Cart</a>
    </li>
    <li>
      <a href="home delivery.html" class="block hover:text-blue-600">ğŸšš Delivery</a>
    </li>
  </ul>

  <button
    class="mt-10 w-full bg-blue-600 text-white py-3 rounded-xl text-lg">
    Items in Stock
  </button>
</nav>
</div>

 
  <!-- PRODUCTS -->
  <h1 class="text-3xl font-bold mb-6 text-center mt-6">Shop Products</h1>

  <div
    id="products"
    class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
  </div>
<footer>
  <h3 class="text-blue-600">
    <a href="">
      Designed by: Dakaf Computer Services
    </a>
  </h3>
</footer>
  <script>

function toggleMenu() {
  const menu = document.getElementById("mobileMenu");
  const overlay = document.getElementById("overlay");

  menu.classList.toggle("translate-x-full");
  overlay.classList.toggle("hidden");
}

    async function loadProducts() {
      const res = await fetch("https://dakaf-backend.onrender.com/products");
      const products = await res.json();

      const container = document.getElementById("products");
      container.innerHTML = "";

      products.forEach(p => {
        const imageUrl = "https://dakaf-backend.onrender.com" + p.image;

        container.innerHTML += `
          <div class="bg-white rounded-xl shadow p-4 hover:shadow-lg transition">
            <img src="${imageUrl}"
              class="h-40 w-full object-cover rounded mb-3">

            <h2 class="font-semibold text-lg">${p.name}</h2>
            <p class="font-bold text-blue-600">â‚¦${p.price}</p>

            <button
              onclick='addToCart(${JSON.stringify({
                ...p,
                image: imageUrl
              })})'
              class="mt-3 w-full bg-blue-600 text-white py-2 rounded">
              Add to Cart
            </button>
          </div>
        `;
      });
    }

    function addToCart(product) {
      let cart = JSON.parse(localStorage.getItem("cart")) || [];
      const existing = cart.find(i => i.id === product.id);

      if (existing) {
        existing.quantity += 1;
      } else {
        product.quantity = 1;
        cart.push(product);
      }

      localStorage.setItem("cart", JSON.stringify(cart));
      alert("Added to cart ğŸ›’");
    }

    loadProducts();
    
  </script>
</body>
</html>
